{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "properties": {
    "ResourceSizePreset": {
      "default": "size_m",
      "description": "Sizing Configurations size_s, size_m, size_l are pre-defined configurations designed to simplify pipeline configurations.\nThe default value is 'size_m', which is the medium size configuration.\nSee https://docs.odigos.io/pipeline/configuration#1-using-sizing-configuration for more details.",
      "required": [],
      "title": "ResourceSizePreset"
    },
    "autoscaler": {
      "additionalProperties": false,
      "description": "Configuration for the autoscaler component.",
      "properties": {
        "affinity": {
          "additionalProperties": false,
          "description": "affinity for the autoscaler deployment.",
          "required": [],
          "title": "affinity"
        },
        "resources": {
          "additionalProperties": false,
          "description": "resources for the autoscaler deployment.",
          "properties": {
            "limits": {
              "additionalProperties": false,
              "properties": {
                "cpu": {
                  "default": "500m",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "512Mi",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "limits",
              "type": "object"
            },
            "requests": {
              "additionalProperties": false,
              "properties": {
                "cpu": {
                  "default": "10m",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "64Mi",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "requests",
              "type": "object"
            }
          },
          "required": [],
          "title": "resources"
        },
        "tolerations": {
          "description": "tolerations for the autoscaler deployment.",
          "items": {
            "required": []
          },
          "required": [],
          "title": "tolerations"
        }
      },
      "required": [],
      "title": "autoscaler"
    },
    "clusterName": {
      "default": "",
      "description": "Name of the cluster, will be used to identify this cluster in the centralized backend",
      "required": [],
      "title": "clusterName"
    },
    "collectorGateway": {
      "additionalProperties": false,
      "description": "HYBRID CONFIGURATION APPROACH:\nBy default, all values below are automatically set based on the ResourceSizePreset above.\nUncomment and modify any value to override the automatic sizing for that specific parameter.\n\nIMPORTANT CONSTRAINTS:\n1. minReplicas must be less or equal to maxReplicas\n2. If you set limitMemoryMiB without requestMemoryMiB, request will equal limit\n3. If you set requestMemoryMiB without limitMemoryMiB, limit will equal request\n4. Same logic applies to CPU settings",
      "properties": {
        "clusterMetricsEnabled": {
          "default": "false",
          "description": "Cluster Metrics settings\nCluster Metrics is a feature that allows you to enable the cluster metrics.\n[https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/k8sclusterreceiver]\nIt is disabled by default and can be enabled by setting the enabled flag to true.",
          "required": [],
          "title": "clusterMetricsEnabled"
        },
        "serviceGraphDisabled": {
          "default": "false",
          "description": "Service Graph settings\nService Graph is a feature that allows you to visualize the service graph of your application.\nIt is enabled by default and can be disabled by setting the disabled flag to true.",
          "required": [],
          "title": "serviceGraphDisabled"
        }
      },
      "required": [],
      "title": "collectorGateway"
    },
    "collectorNode": {
      "additionalProperties": false,
      "description": "Settings for Odigos data-collection (node) Collectors",
      "properties": {
        "collectorOwnMetricsPort": {
          "default": "55682",
          "description": "The port to use for exposing the collector's own metrics as a prometheus endpoint.\nThis can be used to resolve conflicting ports when a collector is using the host network.",
          "required": [],
          "title": "collectorOwnMetricsPort"
        },
        "k8sNodeLogsDirectory": {
          "default": "",
          "description": "this configuration is used for logs collection where '/var/log' in a k8s node is a symlink\nto some other directory (for example, '/mnt/var/log')",
          "required": [],
          "title": "k8sNodeLogsDirectory"
        },
        "otlpExporterConfiguration": {
          "additionalProperties": false,
          "description": "OTLP exporter configuration for the node collector.",
          "properties": {
            "enableDataCompression": {
              "default": "false",
              "description": "EnableDataCompression is a feature that allows you to enable data compression before sending data to the Gateway collector.\nIt is disabled by default and can be enabled by setting the enabled flag to true.",
              "required": [],
              "title": "enableDataCompression"
            },
            "retryOnFailure": {
              "additionalProperties": false,
              "description": "Configuration for retry on failure.",
              "properties": {
                "enabled": {
                  "default": "true",
                  "description": "Whether to retry on failure, by default it is enabled.",
                  "required": [],
                  "title": "enabled"
                },
                "initialInterval": {
                  "default": "5s",
                  "description": "Time to wait after the first failure before retrying; ignored if `enabled` is `false`.",
                  "required": [],
                  "title": "initialInterval"
                },
                "maxElapsedTime": {
                  "default": "300s",
                  "description": "Is the maximum amount of time spent trying to send a batch; ignored if `enabled` is `false`.\nIf set to 0, the retry will continue indefinitely until the data is sent successfully.",
                  "required": [],
                  "title": "maxElapsedTime"
                },
                "maxInterval": {
                  "default": "30s",
                  "description": "Is the upper bound on backoff; ignored if `enabled` is `false`.",
                  "required": [],
                  "title": "maxInterval"
                }
              },
              "required": [],
              "title": "retryOnFailure"
            },
            "timeout": {
              "default": "5s",
              "description": "Time to wait per individual attempt to send data to a backend",
              "required": [],
              "title": "timeout"
            }
          },
          "required": [],
          "title": "otlpExporterConfiguration"
        }
      },
      "required": [],
      "title": "collectorNode"
    },
    "global": {
      "description": "Global values are values that can be accessed from any chart or subchart by exactly the same name.",
      "required": [],
      "title": "global",
      "type": "object"
    },
    "goMemLimitMiB": {
      "default": "360",
      "description": "the GOMEMLIMIT environment variable value for the node collector daemonset.\nthis is when go runtime will start garbage collection.\nif not specified, it will be set to 80% of the hard limit of the memory limiter.",
      "required": [],
      "title": "goMemLimitMiB"
    },
    "httpsProxyAddress": {
      "default": "",
      "description": "for destinations that uses https for exporting data, this value can be used to set the address for an https proxy.\nwhen unset or empty, no proxy will be used.",
      "required": [],
      "title": "httpsProxyAddress"
    },
    "ignoreOdigosNamespace": {
      "default": "true",
      "description": "Whether to automatically ignore the namespace where Odigos is installed.\nBy default (true), the Odigos namespace is automatically added to ignoredNamespaces.\nSet to false to allow the Odigos namespace to be visible in the UI.\nDefault: true",
      "required": [],
      "title": "ignoreOdigosNamespace"
    },
    "ignoredContainers": {
      "default": "",
      "description": "container names to never instrument\nuseful for sidecars which are not interesting to be instrumented\nset by default: istio-proxy, vault-agent, filebeat, linkerd-proxy, fluentd, akeyless-init\nyou can add additional container names to ignore by adding them to the list",
      "required": [],
      "title": "ignoredContainers"
    },
    "ignoredNamespaces": {
      "default": "",
      "description": "namespaces list not to show in odigos ui\nset by default: odigos-system, kube-system, local-path-storage, istio-system, linkerd, kube-node-lease\nyou can add additional namespaces to ignore by adding them to the list",
      "required": [],
      "title": "ignoredNamespaces"
    },
    "image": {
      "additionalProperties": false,
      "properties": {
        "tag": {
          "default": "",
          "title": "tag",
          "type": "string"
        }
      },
      "required": [],
      "title": "image",
      "type": "object"
    },
    "imagePrefix": {
      "default": "",
      "description": "By default, images are pulled from odigos registry at `registry.odigos.io`\nIf you use custom or internal registry to serve in your cluster, you can set the imagePrefix to your registry.\nFor example, if you set imagePrefix to `myregistry.io/odigos`, the images will be pulled from `myregistry.io/odigos/odigos-\u003ccomponent\u003e:\u003ctag\u003e`",
      "required": [],
      "title": "imagePrefix"
    },
    "imagePullSecrets": {
      "items": {
        "required": []
      },
      "title": "imagePullSecrets",
      "type": "array"
    },
    "images": {
      "additionalProperties": false,
      "description": "Per-component image overrides. When set, these full image URLs take precedence over\nthe constructed image name (imagePrefix + component + tag).\nThis is primarily used by the OpenShift operator with RELATED_IMAGE_* env vars.\nExample:\n  images:\n    autoscaler: registry.connect.redhat.com/odigos/odigos-autoscaler-ubi9:v1.0.0\n    collector: registry.connect.redhat.com/odigos/odigos-collector-ubi9:v1.0.0\nSupported component names: autoscaler, collector, ui, instrumentor, enterprise-instrumentor,\n  odiglet, enterprise-odiglet, scheduler, agents, enterprise-agents",
      "required": [],
      "title": "images"
    },
    "limitCPUm": {
      "default": "500",
      "description": "the CPU limit for the node collector daemonset.\nit will be embedded in the daemonset as a resource limit\nof the form \"cpu: \u003cvalue\u003em\".\ndefault value is 500m\nIf you set only limitCPUm, the requestCPUm will be set to the same value.",
      "required": [],
      "title": "limitCPUm"
    },
    "limitMemoryMiB": {
      "default": "500",
      "description": "LimitMemoryMiB is the memory limit for the node collector daemonset.\nit will be embedded in the daemonset as a resource limit of the form \"memory: \u003cvalue\u003eMi\"\ndefault value is 500Mi\nIf you set only limitMemoryMiB, the requestMemoryMiB will be set to the same value.",
      "required": [],
      "title": "limitMemoryMiB"
    },
    "maxReplicas": {
      "default": "10",
      "description": "The maxReplicas in the HPA config.",
      "required": [],
      "title": "maxReplicas"
    },
    "memoryLimiterLimitMiB": {
      "default": "450",
      "description": "this parameter sets the \"limit_mib\" parameter in the memory limiter configuration for the node collector.\nit is the hard limit after which a force garbage collection will be performed.\nif not set, it will be 50Mi below the memory limit.",
      "required": [],
      "title": "memoryLimiterLimitMiB"
    },
    "memoryLimiterSpikeLimitMiB": {
      "default": "90",
      "description": "this parameter sets the \"spike_limit_mib\" parameter in the memory limiter configuration for the node collector.\nnote that this is not the processor soft limit, but the diff in Mib between the hard limit and the soft limit.\nif not set, this will be set to 20% of the hard limit (so the soft limit will be 80% of the hard limit).",
      "required": [],
      "title": "memoryLimiterSpikeLimitMiB"
    },
    "minReplicas": {
      "default": "1",
      "description": "The number of replicas for the cluster gateway collector deployment.\nAlso uses in MinReplicas the HPA config.",
      "required": [],
      "title": "minReplicas"
    },
    "nodeSelector": {
      "additionalProperties": false,
      "description": "Uncomment to override the global nodeSelector (values.nodeSelector) for this component",
      "properties": {
        "affinity": {
          "additionalProperties": false,
          "required": [],
          "title": "affinity",
          "type": "object"
        },
        "centralBackendURL": {
          "default": "",
          "description": "centralBackendURL:\n - This flag sets the URL of the central backend.\n - If not set, the UI will not connect to the central backend.",
          "required": [],
          "title": "centralBackendURL"
        },
        "kubernetes.io/os": {
          "default": "linux",
          "title": "kubernetes.io/os",
          "type": "string"
        },
        "oidcClientId": {
          "default": "",
          "title": "oidcClientId",
          "type": "string"
        },
        "oidcClientSecret": {
          "default": "",
          "description": "oidcClientSecret:\n - This flag sets the client secret of the OIDC application.\n - If not set, the UI will not process OIDC authentication.",
          "required": [],
          "title": "oidcClientSecret"
        },
        "oidcTenantUrl": {
          "default": "",
          "title": "oidcTenantUrl",
          "type": "string"
        },
        "resources": {
          "additionalProperties": false,
          "properties": {
            "limits": {
              "additionalProperties": false,
              "properties": {
                "cpu": {
                  "default": "500m",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "512Mi",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "limits",
              "type": "object"
            },
            "requests": {
              "additionalProperties": false,
              "properties": {
                "cpu": {
                  "default": "10m",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "64Mi",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "requests",
              "type": "object"
            }
          },
          "required": [],
          "title": "resources",
          "type": "object"
        },
        "tolerations": {
          "items": {
            "required": []
          },
          "title": "tolerations",
          "type": "array"
        },
        "uiMode": {
          "default": "default",
          "description": "uiMode: 'default' or 'readonly'\n - This flag controls whether the UI should be in read-only mode.\n - Setting this to \"readonly\" will disable the ability to create, update, or delete objects in the UI.\n - If not set, the UI will be in default mode.",
          "required": [],
          "title": "uiMode"
        },
        "uiPaginationLimit": {
          "default": "0",
          "description": "uiPaginationLimit:\n - This flag controls the number of items to fetch per paginated-batch in the UI.\n - If not set, the UI will fetch 100 items per paginated-batch.",
          "required": [],
          "title": "uiPaginationLimit"
        },
        "uiRemoteUrl": {
          "default": "",
          "title": "uiRemoteUrl",
          "type": "string"
        }
      },
      "required": [],
      "title": "nodeSelector"
    },
    "priorityClassName": {
      "default": "",
      "title": "priorityClassName",
      "type": "string"
    },
    "requestCPUm": {
      "default": "250",
      "description": "the CPU request for the node collector daemonset.\nit will be embedded in the daemonset as a resource request\nof the form \"cpu: \u003cvalue\u003em\".\ndefault value is 250m\nIf you set only requestCPUm, the limitCPUm will be set to the same value.",
      "required": [],
      "title": "requestCPUm"
    },
    "requestMemoryMiB": {
      "default": 250,
      "title": "requestMemoryMiB",
      "type": "integer"
    },
    "scheduler": {
      "additionalProperties": false,
      "description": "Configuration for the scheduler component.",
      "properties": {
        "affinity": {
          "additionalProperties": false,
          "description": "affinity for the scheduler deployment.",
          "required": [],
          "title": "affinity"
        },
        "resources": {
          "additionalProperties": false,
          "description": "resources for the scheduler deployment.",
          "properties": {
            "limits": {
              "additionalProperties": false,
              "properties": {
                "cpu": {
                  "default": "500m",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "512Mi",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "limits",
              "type": "object"
            },
            "requests": {
              "additionalProperties": false,
              "properties": {
                "cpu": {
                  "default": "10m",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "64Mi",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "requests",
              "type": "object"
            }
          },
          "required": [],
          "title": "resources"
        },
        "tolerations": {
          "description": "tolerations for the scheduler deployment.",
          "items": {
            "required": []
          },
          "required": [],
          "title": "tolerations"
        }
      },
      "required": [],
      "title": "scheduler"
    },
    "signals": {
      "description": "User should be specifying the signals they want to collect.",
      "items": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "string"
          },
          {
            "type": "string"
          }
        ],
        "required": []
      },
      "required": [],
      "title": "signals"
    },
    "ui": {
      "default": "",
      "description": "Configuration for the UI component.",
      "required": [],
      "title": "ui"
    },
    "userInstrumentationEnvs": {
      "additionalProperties": false,
      "description": "Configuration for OpenTelemetry (OTEL) agents instrumentation environment variables.",
      "properties": {
        "languages": {
          "additionalProperties": false,
          "description": "Configuration for OpenTelemetry (OTEL) agents instrumentation.\nThese settings enable and configure OTEL agents for programming languages supported by Odigos.\nSee the official OTEL documentation for language-specific configuration details:\nhttps://opentelemetry.io/docs/zero-code/\nExample:\nlanguages:\n  java:\n    enabled: true\n    env:\n      OTEL_INSTRUMENTATION_COMMON_EXPERIMENTAL_VIEW_TELEMETRY_ENABLED: \"true\"\nNote: For eBPF-based distributions, exporting and batching cannot be configured here, as they are managed by the Odiglet.\nWarning: This is an advanced feature. Only modify these settings if you are familiar with OTEL and its implications.",
          "properties": {
            "dotnet": {
              "additionalProperties": false,
              "properties": {
                "enabled": {
                  "default": false,
                  "title": "enabled",
                  "type": "boolean"
                },
                "env": {
                  "additionalProperties": false,
                  "required": [],
                  "title": "env",
                  "type": "object"
                }
              },
              "required": [],
              "title": "dotnet",
              "type": "object"
            },
            "go": {
              "additionalProperties": false,
              "properties": {
                "enabled": {
                  "default": false,
                  "title": "enabled",
                  "type": "boolean"
                },
                "env": {
                  "additionalProperties": false,
                  "required": [],
                  "title": "env",
                  "type": "object"
                }
              },
              "required": [],
              "title": "go",
              "type": "object"
            },
            "java": {
              "additionalProperties": false,
              "properties": {
                "enabled": {
                  "default": false,
                  "title": "enabled",
                  "type": "boolean"
                },
                "env": {
                  "additionalProperties": false,
                  "required": [],
                  "title": "env",
                  "type": "object"
                }
              },
              "required": [],
              "title": "java",
              "type": "object"
            },
            "nodejs": {
              "additionalProperties": false,
              "properties": {
                "enabled": {
                  "default": false,
                  "title": "enabled",
                  "type": "boolean"
                },
                "env": {
                  "additionalProperties": false,
                  "required": [],
                  "title": "env",
                  "type": "object"
                }
              },
              "required": [],
              "title": "nodejs",
              "type": "object"
            },
            "php": {
              "additionalProperties": false,
              "properties": {
                "enabled": {
                  "default": false,
                  "title": "enabled",
                  "type": "boolean"
                },
                "env": {
                  "additionalProperties": false,
                  "required": [],
                  "title": "env",
                  "type": "object"
                }
              },
              "required": [],
              "title": "php",
              "type": "object"
            },
            "python": {
              "additionalProperties": false,
              "properties": {
                "enabled": {
                  "default": false,
                  "title": "enabled",
                  "type": "boolean"
                },
                "env": {
                  "additionalProperties": false,
                  "required": [],
                  "title": "env",
                  "type": "object"
                }
              },
              "required": [],
              "title": "python",
              "type": "object"
            }
          },
          "required": [],
          "title": "languages"
        }
      },
      "required": [],
      "title": "userInstrumentationEnvs"
    }
  },
  "required": [],
  "type": "object"
}